# æ–‡ä»¶ç»„ç»‡è¿ç§»æŒ‡å—

## ğŸ“‹ æ¦‚è¿°
æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•å®Œæˆé¡¹ç›®æ–‡ä»¶é‡ç»„åçš„åœºæ™¯æ–‡ä»¶æ›´æ–°æ­¥éª¤ã€‚

---

## âœ… å·²å®Œæˆçš„æ­¥éª¤

1. âœ… åˆ›å»ºäº†æ–°çš„æ–‡ä»¶å¤¹ç»“æ„ (`scripts/`)
2. âœ… å¤åˆ¶äº†æ‰€æœ‰è„šæœ¬åˆ°æ–°ä½ç½®
3. âœ… æ›´æ–°äº† `project.godot` ä¸­çš„ autoload é…ç½®
4. âœ… æ—§æ–‡ä»¶ä¿ç•™åœ¨åŸä½ç½®ï¼ˆæœªåˆ é™¤ï¼‰

---

## ğŸ”§ éœ€è¦æ‰‹åŠ¨å®Œæˆçš„æ­¥éª¤

### æ­¥éª¤1: åœ¨Godotç¼–è¾‘å™¨ä¸­æ‰“å¼€é¡¹ç›®

1. å¯åŠ¨ Godot 4.5
2. å¯¼å…¥é¡¹ç›® `little knight adventure v 0.5`
3. ç­‰å¾…ç´¢å¼•å®Œæˆ

### æ­¥éª¤2: é‡æ–°æŒ‡å®šåœºæ™¯çš„è„šæœ¬

ç”±äºè„šæœ¬è·¯å¾„å·²æ›´æ”¹ï¼Œéœ€è¦é‡æ–°æŒ‡å®šæ¯ä¸ªåœºæ™¯çš„è„šæœ¬ã€‚

#### æ–¹æ³•A: ä½¿ç”¨ç¼–è¾‘å™¨æ‰‹åŠ¨æ›´æ–°ï¼ˆæ¨èï¼‰

**å¯¹äºæ¯ä¸ªåœºæ™¯æ–‡ä»¶**ï¼š

1. åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€åœºæ™¯ï¼ˆä¾‹å¦‚ `scenes/NPC/shop_keeper.tscn`ï¼‰
2. é€‰æ‹©æ ¹èŠ‚ç‚¹ï¼ˆä¾‹å¦‚ `ShopKeeper`ï¼‰
3. åœ¨ Inspector é¢æ¿ä¸­æ‰¾åˆ° `Script` å±æ€§
4. ç‚¹å‡»è„šæœ¬è·¯å¾„ï¼Œä¼šæ˜¾ç¤º "è„šæœ¬å·²ç§»åŠ¨" æç¤º
5. åŒå‡»è„šæœ¬æˆ–ç‚¹å‡»"é‡æ–°å®šä½"
6. é€‰æ‹©æ–°ä½ç½®çš„è„šæœ¬ï¼ˆä¾‹å¦‚ `scripts/actors/npc/shop_keeper.gd`ï¼‰
7. ä¿å­˜åœºæ™¯ï¼ˆCtrl+Sï¼‰

#### æ–¹æ³•B: æ‰¹é‡æŸ¥æ‰¾æ›¿æ¢ï¼ˆä¸æ¨èï¼Œå¯èƒ½å‡ºé”™ï¼‰

**å¦‚æœä½ ç†Ÿæ‚‰æ–‡æœ¬ç¼–è¾‘**ï¼š

1. å…³é—­ Godot ç¼–è¾‘å™¨
2. ä½¿ç”¨æ”¯æŒæ‰¹é‡æŸ¥æ‰¾æ›¿æ¢çš„ç¼–è¾‘å™¨ï¼ˆå¦‚ VSCodeï¼‰
3. åœ¨é¡¹ç›®æ ¹ç›®å½•æœç´¢ `.tscn` æ–‡ä»¶
4. æ‰§è¡Œä»¥ä¸‹æ›¿æ¢ï¼š

```
æ—§è·¯å¾„ â†’ æ–°è·¯å¾„

res://Global.gd
â†’ res://scripts/autoload/global_data.gd

res://Scripts/save_system.gd
â†’ res://scripts/autoload/save_system.gd

res://Scripts/shop_keeper.gd
â†’ res://scripts/actors/npc/shop_keeper.gd

res://Scripts/shop_ui.gd
â†’ res://scripts/ui/shop_ui.gd

res://Scripts/knight.gd
â†’ res://scripts/actors/player/knight.gd

res://Scripts/coin.gd
â†’ res://scripts/items/coin.gd

res://Scripts/bat.gd
â†’ res://scripts/actors/enemies/bat.gd

res://Scripts/enemies/slime_purple_boss.gd
â†’ res://scripts/actors/enemies/slime_boss.gd

res://player/scripts/player.gd
â†’ res://scripts/actors/player/player.gd

res://player/scripts/player_health.gd
â†’ res://scripts/actors/player/player_health.gd

res://player/states/*.gd
â†’ res://scripts/actors/player/states/*.gd
```

### æ­¥éª¤3: æ›´æ–°è„šæœ¬ä¸­çš„ç›¸å¯¹è·¯å¾„

æŸäº›è„šæœ¬å¯èƒ½åŒ…å«å¯¹å…¶ä»–è„šæœ¬çš„ `preload()` æˆ– `load()` å¼•ç”¨ï¼Œéœ€è¦æ›´æ–°ï¼š

**ç¤ºä¾‹**:
```gdscript
# ä¹‹å‰
const EnemyState = preload("res://player/states/enemy_state.gd")

# ä¹‹å
const EnemyState = preload("res://scripts/actors/player/states/enemy_state.gd")
```

### æ­¥éª¤4: æµ‹è¯•æ‰€æœ‰åœºæ™¯

é€ä¸€æµ‹è¯•ä»¥ä¸‹åœºæ™¯ï¼š

- [ ] `scenes/shop.tscn` - å•†åº—åœºæ™¯
- [ ] `scenes/NPC/shop_keeper.tscn` - å›½ç‹NPC
- [ ] `scenes/NPC/knight.tscn` - ç©å®¶è§’è‰²
- [ ] `scenes/enemies/bat.tscn` - è™è æ•Œäºº
- [ ] `scenes/enemies/slime_green.tscn` - å²è±å§†æ•Œäºº
- [ ] `scenes/enemies/slime_purple.tscn` - Bosså²è±å§†
- [ ] `scenes/items/coin.tscn` - é‡‘å¸
- [ ] `scenes/start_game.tscn` - å¼€å§‹èœå•

### æ­¥éª¤5: è¿è¡Œå®Œæ•´æµ‹è¯•

1. è¿è¡Œä¸»åœºæ™¯ï¼ˆF5ï¼‰
2. æµ‹è¯•ç©å®¶ç§»åŠ¨å’Œè·³è·ƒ
3. æµ‹è¯•å•†åº—äº¤äº’ï¼ˆEé”®ï¼‰
4. æµ‹è¯•æ•ŒäººAI
5. æµ‹è¯•å…³å¡åˆ‡æ¢

---

## ğŸ—‘ï¸ æ¸…ç†æ—§æ–‡ä»¶ï¼ˆæµ‹è¯•é€šè¿‡åï¼‰

**ä»…åœ¨ç¡®è®¤æ‰€æœ‰åŠŸèƒ½æ­£å¸¸åæ‰§è¡Œ**ï¼š

```bash
# åˆ é™¤æ ¹ç›®å½•çš„æ—§è„šæœ¬
rm -f area_2d.gd box.gd coco_adventure.gd door.gd dungeon.gd
rm -f fall_box.gd fall_stone.gd flying_pig.gd Global.gd
rm -f kill_zone.gd slime_green.gd treasure_box.gd

# åˆ é™¤ Scripts æ–‡ä»¶å¤¹
rm -rf Scripts/

# åˆ é™¤ player æ–‡ä»¶å¤¹
rm -rf player/

# åˆ é™¤ scenes ä¸‹çš„ .gd æ–‡ä»¶
rm -f scenes/NPC/npc.gd
rm -f scenes/traps/spike.gd
rm -f scenes/traps/waterfall.gd
rm -f scenes/boss_01_scene.gd
```

---

## ğŸ“‹ è·¯å¾„æ˜ å°„è¡¨

### å®Œæ•´çš„è·¯å¾„æ˜ å°„

| æ—§è·¯å¾„ | æ–°è·¯å¾„ |
|--------|--------|
| `Global.gd` | `scripts/autoload/global_data.gd` |
| `Scripts/save_system.gd` | `scripts/autoload/save_system.gd` |
| `Scripts/autoload/trade_item_list.gd` | `scripts/autoload/trade_item_list.gd` |
| `Scripts/managers/level_manager.gd` | `scripts/managers/level_manager.gd` |
| | |
| `player/scripts/player.gd` | `scripts/actors/player/player.gd` |
| `player/scripts/player_health.gd` | `scripts/actors/player/player_health.gd` |
| `player/states/*.gd` | `scripts/actors/player/states/*.gd` |
| | |
| `Scripts/knight.gd` | `scripts/actors/player/knight.gd` |
| `Scripts/enemies/bat.gd` | `scripts/actors/enemies/bat.gd` |
| `Scripts/enemies/bat_spawner.gd` | `scripts/actors/enemies/bat_spawner.gd` |
| `Scripts/enemies/slime_purple_boss.gd` | `scripts/actors/enemies/slime_boss.gd` |
| `slime_green.gd` | `scripts/actors/enemies/slime_green.gd` |
| | |
| `Scripts/shop_keeper.gd` | `scripts/actors/npc/shop_keeper.gd` |
| `scenes/NPC/npc.gd` | `scripts/actors/npc/npc.gd` |
| `flying_pig.gd` | `scripts/actors/npc/flying_pig.gd` |
| | |
| `Scripts/coin.gd` | `scripts/items/coin.gd` |
| `Scripts/health_pot.gd` | `scripts/items/health_potion.gd` |
| `Scripts/sword.gd` | `scripts/items/sword.gd` |
| `door.gd` | `scripts/items/door.gd` |
| `box.gd` | `scripts/items/box.gd` |
| `treasure_box.gd` | `scripts/items/treasure_box.gd` |
| | |
| `Scripts/HUD.gd` | `scripts/ui/hud.gd` |
| `Scripts/chat_bubble.gd` | `scripts/ui/chat_bubble.gd` |
| `Scripts/shop_ui.gd` | `scripts/ui/shop_ui.gd` |
| `Scripts/start_game.gd` | `scripts/ui/start_menu.gd` |
| | |
| `Scripts/platform_a_active.gd` | `scripts/traps/active_platform.gd` |
| `fall_box.gd` | `scripts/traps/falling_box.gd` |
| `fall_stone.gd` | `scripts/traps/falling_stone.gd` |
| `kill_zone.gd` | `scripts/traps/kill_zone.gd` |
| `scenes/traps/spike.gd` | `scripts/traps/spike.gd` |
| `scenes/traps/waterfall.gd` | `scripts/traps/waterfall.gd` |
| `area_2d.gd` | `scripts/components/interaction_area.gd` |
| | |
| `Scripts/shop.gd` | `scripts/levels/shop.gd` |
| `coco_adventure.gd` | `scripts/levels/coco_adventure.gd` |
| `dungeon.gd` | `scripts/levels/dungeon.gd` |
| `Scripts/oscar_adventure.gd` | `scripts/levels/oscar_adventure.gd` |
| `scenes/boss_01_scene.gd` | `scripts/levels/boss_arena.gd` |
| | |
| `Scripts/tools/create_king_animation.gd` | `scripts/utils/create_king_animation.gd` |

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: ç¼–è¾‘å™¨æç¤º"è„šæœ¬å·²ä¸¢å¤±"
**åŸå› **: è„šæœ¬è·¯å¾„å·²æ›´æ”¹ï¼Œä½†åœºæ™¯æ–‡ä»¶æœªæ›´æ–°
**è§£å†³**: æŒ‰ç…§æ­¥éª¤2é‡æ–°æŒ‡å®šè„šæœ¬è·¯å¾„

### Q2: è¿è¡Œæ—¶å‡ºç° "NullInstanceError"
**åŸå› **: autoload è„šæœ¬è·¯å¾„é”™è¯¯
**è§£å†³**: æ£€æŸ¥ `project.godot` ä¸­çš„ `[autoload]` é…ç½®

### Q3: åŠ¨ç”»ä¸æ’­æ”¾
**åŸå› **: å¯èƒ½æ˜¯ NPC åœºæ™¯çš„è„šæœ¬å¼•ç”¨æœªæ›´æ–°
**è§£å†³**: é‡æ–°æŒ‡å®š `shop_keeper.tscn` çš„è„šæœ¬

### Q4: ç©å®¶æ— æ³•ç§»åŠ¨
**åŸå› **: ç©å®¶çŠ¶æ€æœºè„šæœ¬è·¯å¾„æœªæ›´æ–°
**è§£å†³**: æ£€æŸ¥ `knight.tscn` å’Œ `player.tscn` çš„è„šæœ¬å¼•ç”¨

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœåœ¨è¿ç§»è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. æ£€æŸ¥æœ¬æ–‡æ¡£çš„è·¯å¾„æ˜ å°„è¡¨
2. æŸ¥çœ‹ Godot ç¼–è¾‘å™¨çš„è¾“å‡ºé¢æ¿é”™è¯¯ä¿¡æ¯
3. å‚è€ƒ `é¡¹ç›®æ–‡ä»¶ç»„ç»‡è§„èŒƒ.md` äº†è§£æ–°çš„æ–‡ä»¶ç»“æ„

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2025-02-11
**é€‚ç”¨é¡¹ç›®**: Little Knight Adventure v0.5
