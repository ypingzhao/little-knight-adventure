class_name RedSlimeBoss
extends Slime

## ============================================================================
## 红色史莱姆 Boss
## ============================================================================
## 继承自 Slime 类，添加 Boss 特定功能
## ============================================================================

## ============================================================================
## 信号定义
## ============================================================================

signal boss_battle_finish  # Boss 战斗结束信号

## ============================================================================
## 覆盖方法
## ============================================================================

## 受到伤害时，在死亡时发出 boss_battle_finish 信号
func take_damage(_amount: int) -> void:
	# 调用父类的 take_damage
	super.take_damage(_amount)

	# 如果 Boss 死亡，发出战斗结束信号
	if slime_hp <= 0:
		# 等待无敌状态结束（即死亡动画完成）
		invulnerability_ended.connect(func(): boss_battle_finish.emit(), CONNECT_ONE_SHOT)
